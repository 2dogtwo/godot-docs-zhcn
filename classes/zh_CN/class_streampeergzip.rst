:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/StreamPeerGZIP.xml.

.. _class_StreamPeerGZIP:

StreamPeerGZIP
==============

**Inherits:** :ref:`StreamPeer<class_StreamPeer>` **<** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

能够处理 GZIP 和 deflate 压缩/解压缩的流对等体。

.. rst-class:: classref-introduction-group

Description
-----------

这个类能够使用 GZIP/deflate 对数据进行流式压缩或解压缩。压缩或解压缩经过网络发送的文件时尤其有用，不必事先分配内存。

使用 :ref:`start_compression<class_StreamPeerGZIP_method_start_compression>`\ （或 :ref:`start_decompression<class_StreamPeerGZIP_method_start_decompression>`\ ）开启流之后，在这个流上调用 :ref:`StreamPeer.put_partial_data<class_StreamPeer_method_put_partial_data>` 会对数据进行压缩（或解压缩）并写入内部缓冲区。调用 :ref:`StreamPeer.get_available_bytes<class_StreamPeer_method_get_available_bytes>` 会返回内部缓冲区中待处理的字节数，\ :ref:`StreamPeer.get_partial_data<class_StreamPeer_method_get_partial_data>` 会从中获取压缩后（或解压后）的字节。流结束后，你必须调用 :ref:`finish<class_StreamPeerGZIP_method_finish>` 来确保正确清空内部缓冲区（请务必最后再调用一次 :ref:`StreamPeer.get_available_bytes<class_StreamPeer_method_get_available_bytes>`\ ，检查此时是否还有需要读取的数据）。

.. rst-class:: classref-reftable-group

Methods
-------

.. table::
   :widths: auto

   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`clear<class_StreamPeerGZIP_method_clear>` **(** **)**                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>` | :ref:`finish<class_StreamPeerGZIP_method_finish>` **(** **)**                                                                                                              |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>` | :ref:`start_compression<class_StreamPeerGZIP_method_start_compression>` **(** :ref:`bool<class_bool>` use_deflate=false, :ref:`int<class_int>` buffer_size=65535 **)**     |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>` | :ref:`start_decompression<class_StreamPeerGZIP_method_start_decompression>` **(** :ref:`bool<class_bool>` use_deflate=false, :ref:`int<class_int>` buffer_size=65535 **)** |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Method Descriptions
-------------------

.. _class_StreamPeerGZIP_method_clear:

.. rst-class:: classref-method

void **clear** **(** **)**

清空该流，重设内部状态。

.. rst-class:: classref-item-separator

----

.. _class_StreamPeerGZIP_method_finish:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **finish** **(** **)**

终止该流，对缓冲中剩余的数据块进行压缩或解压缩。

.. rst-class:: classref-item-separator

----

.. _class_StreamPeerGZIP_method_start_compression:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **start_compression** **(** :ref:`bool<class_bool>` use_deflate=false, :ref:`int<class_int>` buffer_size=65535 **)**

开始压缩模式的流，缓冲区大小为 ``buffer_size``\ ，如果 ``use_deflate`` 为 ``true`` 则使用 deflate 而不是 GZIP。

.. rst-class:: classref-item-separator

----

.. _class_StreamPeerGZIP_method_start_decompression:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **start_decompression** **(** :ref:`bool<class_bool>` use_deflate=false, :ref:`int<class_int>` buffer_size=65535 **)**

开始解压模式的流，缓冲区大小为 ``buffer_size``\ ，如果 ``use_deflate`` 为 ``true`` 则使用 deflate 而不是 GZIP。

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
.. |bitfield| replace:: :abbr:`BitField (This value is an integer composed as a bitmask of the following flags.)`
