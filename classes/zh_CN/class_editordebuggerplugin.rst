:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/EditorDebuggerPlugin.xml.

.. _class_EditorDebuggerPlugin:

EditorDebuggerPlugin
====================

**Inherits:** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

实现调试器插件的基类。

.. rst-class:: classref-introduction-group

Description
-----------

编辑器调试器插件 **EditorDebuggerPlugin** 提供了与调试器的编辑器端相关的函数。

要与调试器交互，必须将这个类的实例通过 :ref:`EditorPlugin.add_debugger_plugin<class_EditorPlugin_method_add_debugger_plugin>` 添加至编辑器。

添加完成后，会针对该插件可用的每一个编辑器调试器会话 :ref:`EditorDebuggerSession<class_EditorDebuggerSession>` 回调一次 :ref:`_setup_session<class_EditorDebuggerPlugin_method__setup_session>`\ ，后续有新的会话也会进行回调（这些会话在此阶段可能尚未激活）。

你可以通过 :ref:`get_sessions<class_EditorDebuggerPlugin_method_get_sessions>` 获取所有可用的 :ref:`EditorDebuggerSession<class_EditorDebuggerSession>`\ ，也可以通过 :ref:`get_session<class_EditorDebuggerPlugin_method_get_session>` 获取特定的会话。


.. tabs::

 .. code-tab:: gdscript

    @tool
    extends EditorPlugin
    
    class ExampleEditorDebugger extends EditorDebuggerPlugin:
    
        func _has_capture(prefix):
            # 如果想要处理带有这个前缀的消息则返回 true。
            return prefix == "my_plugin"
    
        func _capture(message, data, session_id):
            if message == "my_plugin:ping":
                get_session(session_id).send_message("my_plugin:echo", data)
    
        func _setup_session(session_id):
            # 在调试器会话 UI 中添加新的选项卡，其中包含一个标签。
            var label = Label.new()
            label.name = "Example plugin"
            label.text = "示例插件"
            var session = get_session(session_id)
            # 监听会话开始和停止信号。
            session.started.connect(func (): print("会话已开始"))
            session.stopped.connect(func (): print("会话已停止"))
            session.add_session_tab(label)
    
    var debugger = ExampleEditorDebugger.new()
    
    func _enter_tree():
        add_debugger_plugin(debugger)
    
    func _exit_tree():
        remove_debugger_plugin(debugger)



.. rst-class:: classref-reftable-group

Methods
-------

.. table::
   :widths: auto

   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`_capture<class_EditorDebuggerPlugin_method__capture>` **(** :ref:`String<class_String>` message, :ref:`Array<class_Array>` data, :ref:`int<class_int>` session_id **)** |virtual| |
   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`_has_capture<class_EditorDebuggerPlugin_method__has_capture>` **(** :ref:`String<class_String>` capture **)** |virtual| |const|                                                   |
   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                                      | :ref:`_setup_session<class_EditorDebuggerPlugin_method__setup_session>` **(** :ref:`int<class_int>` session_id **)** |virtual|                                                          |
   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`EditorDebuggerSession<class_EditorDebuggerSession>` | :ref:`get_session<class_EditorDebuggerPlugin_method_get_session>` **(** :ref:`int<class_int>` id **)**                                                                                  |
   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`                                 | :ref:`get_sessions<class_EditorDebuggerPlugin_method_get_sessions>` **(** **)**                                                                                                         |
   +-----------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Method Descriptions
-------------------

.. _class_EditorDebuggerPlugin_method__capture:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_capture** **(** :ref:`String<class_String>` message, :ref:`Array<class_Array>` data, :ref:`int<class_int>` session_id **)** |virtual|

覆盖此方法以处理传入的消息。\ ``session_id`` 是接收到消息的 :ref:`EditorDebuggerSession<class_EditorDebuggerSession>` 的 ID（你可以通过 :ref:`get_session<class_EditorDebuggerPlugin_method_get_session>` 检索到它）。

.. rst-class:: classref-item-separator

----

.. _class_EditorDebuggerPlugin_method__has_capture:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_has_capture** **(** :ref:`String<class_String>` capture **)** |virtual| |const|

覆盖此方法以启用从调试器接收消息。如果\ ``capture``\ 是"my_message"，那么以"my_message:"开头的消息将会传递到\ :ref:`_capture<class_EditorDebuggerPlugin_method__capture>`\ 方法。

.. rst-class:: classref-item-separator

----

.. _class_EditorDebuggerPlugin_method__setup_session:

.. rst-class:: classref-method

void **_setup_session** **(** :ref:`int<class_int>` session_id **)** |virtual|

覆盖此方法，以在创建新的\ :ref:`EditorDebuggerSession<class_EditorDebuggerSession>`\ 时被通知（此阶段期间可能处于非活动状态）。

.. rst-class:: classref-item-separator

----

.. _class_EditorDebuggerPlugin_method_get_session:

.. rst-class:: classref-method

:ref:`EditorDebuggerSession<class_EditorDebuggerSession>` **get_session** **(** :ref:`int<class_int>` id **)**

返回具有给定 ``id`` 的 :ref:`EditorDebuggerSession<class_EditorDebuggerSession>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_EditorDebuggerPlugin_method_get_sessions:

.. rst-class:: classref-method

:ref:`Array<class_Array>` **get_sessions** **(** **)**

Returns an array of :ref:`EditorDebuggerSession<class_EditorDebuggerSession>` currently available to this debugger plugin.

\ **Note:** Sessions in the array may be inactive, check their state via :ref:`EditorDebuggerSession.is_active<class_EditorDebuggerSession_method_is_active>`.

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
.. |bitfield| replace:: :abbr:`BitField (This value is an integer composed as a bitmask of the following flags.)`
